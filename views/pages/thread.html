<section class="module">
    <div class="page">
        <div class="container">
            <link rel="stylesheet" type="text/css" href="assets/css/trix.css">
            <div class="post-title">{{ thread.title }}</div>
            <p>by {{ thread.author.profile.name }}<br>{{ thread.createdAt | date}}</p>
            <hr style="border-bottom: 1px solid #aaa !important">
            <p ng-bind-html="trustHtml(thread.content)"></p>
            <ul>
                <li ng-repeat="post in posts">
                    <p ng-bind="post.content"></p>
                    by {{ post.author.profile.name }} at {{ post.createdAt | date }}
                </li>
            </ul>
        </div>
    </div>
</section>

<section class="module-small">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div class="comments">
            <h4 class="comment-title font-alt">Replies</h4>

            <!-- This div is used if no replies are found -->
            <div class="row pb-20 pt-40 font-alt align-center" ng-if="!thread.replies">
            <h4 style="text-transform: none !important">No replies here... yet. Go ahead, make one!</h4>
            </div>
            <div class="comment clearfix" ng-repeat="reply in thread.replies">
                <div class="comment-avatar">
                    <img ng-src="{{reply.author.services.google.picture}}" alt="avatar"/>
                </div>

                <div class="comment-content clearfix">
                    <div class="comment-author font-alt" style="text-transform: none !important; margin-bottom: 0px !important">{{ reply.author.profile.name }}</div>

                    <div class="comment-body">
                        <p style="margin-bottom: 10px !important">{{ reply.content }}</p>
                    </div>
                    <div class="comment-meta font-serif">{{ reply.createdAt | date }}</div>
                </div>
                <hr>
            </div>
        </div>
        <div class="comment-form">
          <h4 class="comment-form-title font-alt">Add your reply</h4>
          <form ng-submit="createReply(reply)">
            <div class="form-group">
              <textarea class="form-control" id="comment" name="reply" rows="4" placeholder="Comment" ng-model="reply.content"></textarea>
          </div>
          <button class="btn btn-round btn-d" type="submit">Post reply</button>
      </form>
  </div>
</div>
</div>
</div>
</section>
